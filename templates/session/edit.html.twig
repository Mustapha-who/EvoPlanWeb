{% extends 'User/base_dashboard.html.twig' %}

{% block title %}Edit Session{% endblock %}

{% block content %}
    <header class="page-header page-header-compact page-header-light border-bottom bg-white mb-4">
        <div class="container-xl px-4">
            <div class="page-header-content">
                <div class="row align-items-center justify-content-between pt-3">
                    <div class="col-auto mb-3">
                        <h1 class="page-header-title">
                            <div class="page-header-icon"><i data-feather="edit"></i></div>
                            Edit Session
                        </h1>
                    </div>
                    <div class="col-12 col-xl-auto mb-3">
                        <a class="btn btn-sm btn-light text-primary" href="{{ path('app_session_index', {'workshop_id': workshop_id}) }}">
                            <i class="me-1" data-feather="arrow-left"></i>
                            Back to Sessions
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container-xl px-4">
        <div class="card">
            <div class="card-header">Edit Session Details</div>
            <div class="card-body">
                {{ form_start(form) }}
                <div class="row">
                    <div class="col-md-4 mb-4">
                        {{ form_label(form.date) }}
                        {{ form_widget(form.date, {
                            'attr': {
                                'class': 'form-control' ~ (form.date.vars.errors|length ? ' is-invalid' : '')
                            }
                        }) }}
                        {% if form.date.vars.errors|length > 0 %}
                            <div class="invalid-feedback d-block">
                                {% for error in form.date.vars.errors %}
                                    {{ error.message|trans(error.messageParameters, 'validators') }}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    <div class="col-md-4 mb-4">
                        {{ form_label(form.dateheuredeb) }}
                        {{ form_widget(form.dateheuredeb, {
                            'attr': {
                                'class': 'form-control' ~ (form.dateheuredeb.vars.errors|length ? ' is-invalid' : '')
                            }
                        }) }}
                        {% if form.dateheuredeb.vars.errors|length > 0 %}
                            <div class="invalid-feedback d-block">
                                {% for error in form.dateheuredeb.vars.errors %}
                                    {{ error.message|trans(error.messageParameters, 'validators') }}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    <div class="col-md-4 mb-4">
                        {{ form_label(form.dateheurefin) }}
                        {{ form_widget(form.dateheurefin, {
                            'attr': {
                                'class': 'form-control' ~ (form.dateheuredeb.vars.errors|length ? ' is-invalid' : '')
                            }
                        }) }}
                    </div>
                    <div class="col-md-4 mb-4">
                        {{ form_row(form.id_workshop, {
                            'attr': {'class': 'form-select'},
                            'row_attr': {'class': 'mb-3'}
                        }) }}
                    </div>
                    <div class="col-md-4 mb-4">
                        {{ form_label(form.capacity) }}
                        {{ form_widget(form.capacity, {
                            'attr': {
                                'class': 'form-control' ~ (form.capacity.vars.errors|length ? ' is-invalid' : '')
                            }
                        }) }}
                        {% if form.capacity.vars.errors|length > 0 %}
                            <div class="invalid-feedback d-block">
                                {% for error in form.capacity.vars.errors %}
                                    {{ error.message|trans(error.messageParameters, 'validators') }}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </div>
                <div class="mt-4">
                    <button type="submit" class="btn btn-primary">
                        <i class="me-1" data-feather="save"></i>
                        {{ button_label|default('Update Session') }}
                    </button>
                </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();
        });
    </script>
{% endblock %}
