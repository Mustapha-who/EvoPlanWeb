{# templates/equipement/_form.html.twig #}

{{ form_start(form, {'attr': {'novalidate': 'novalidate', 'class': 'needs-validation'}}) }}
    {% if not form.vars.valid %}
        <div class="alert alert-danger alert-dismissible fade show mb-4">
            <span>Veuillez corriger les erreurs dans le formulaire.</span>
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    {% endif %}

    <div class="mb-3">
        {{ form_label(form.equipementType, "Type d'équipement", {'label_attr': {'class': 'form-label'}}) }}
        <span class="text-danger">*</span>
        {{ form_widget(form.equipementType, {'attr': {'class': 'form-control' ~ (form.equipementType.vars.errors|length ? ' is-invalid' : '')}}) }}
        {{ form_errors(form.equipementType) }}
    </div>

    <div class="mb-3">
        {{ form_label(form.quantity, 'Quantité', {'label_attr': {'class': 'form-label'}}) }}
        <span class="text-danger">*</span>
        {{ form_widget(form.quantity, {'attr': {'class': 'form-control' ~ (form.quantity.vars.errors|length ? ' is-invalid' : '')}}) }}
        {{ form_errors(form.quantity) }}
    </div>

    <div class="mb-3">
        {{ form_label(form.ressource, 'Ressource associée', {'label_attr': {'class': 'form-label'}}) }}
        <span class="text-danger">*</span>
        {{ form_widget(form.ressource, {'attr': {'class': 'form-select' ~ (form.ressource.vars.errors|length ? ' is-invalid' : '')}}) }}
        {{ form_errors(form.ressource) }}
    </div>

    <div class="d-flex justify-content-between mt-4">
        <a href="{{ path('app_equipement_index') }}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left me-1"></i>
            Retour à la liste
        </a>
        <button type="submit" class="btn btn-primary">
            <i class="bi bi-save me-1"></i>
            {{ button_label|default('Enregistrer') }}
        </button>
    </div>
{{ form_end(form) }}